clc; clear all; close all;
SrcDir = 'E:\HastiShabani\2. Projects\0. PairwiseRegistration\Data\';
info.dir = {'Tak\Original\026-01-91\';...
            'Tak\Original\051-04-80\';...
            'Tak\Original\156-01-86\';...
            'Tak\Original\194-01-70\';...
            'Tak\Original\234-01-67\';...
            'Tak\Original\31-01\';...
            'Tak\Original\33-03\';...
            'Tak\Original\36-01\';...
            'Tak\Original\49-01\';...
            'Tak\Original\53-03\'};

info.imtype = {1;1;1;1;1;1;1;1;1;1;2;2;2;2;2;2;2};
info.nEnd = {100;100;100;90;100;100;100;100;100;100;609;100;100;552;100;25;25};
info.htile = {10;10;10;10;10;10;10;10;10;10;29;10;10;23;10;5;5};
info.vtile = {10;10;10;9;10;10;10;10;10;10;21;10;10;24;10;5;5};
info.dataset = {1;1;1;1;1;1;1;1;1;1;3;2;2;2;2;2;2};

for i = 1 : 10
    [rmse_north, rmse_west, average_rmse, time_north, time_west, average_time,Tx_north, Tx_west, Ty_north, Ty_west] = pairwise_registration_PhaseCorrelation_NCC(strcat(SrcDir,info.dir{i,:}),info.imtype{i},info.nEnd{i},info.htile{i},info.vtile{i},info.dataset{i});
    save(sprintf('E:/HastiShabani/2. Projects/0. PairwiseRegistration/Codes/Intensity_based/Run_3_Shading/Phase correlation and NCC/Results_PhaseNCC/%d.mat',i),"rmse_north", "rmse_west", "average_rmse", "time_north", "time_west", "average_time", "Tx_north", "Tx_west", "Ty_north", "Ty_west");
end
