clc; clear all; close all;
SrcDir = 'E:\HastiShabani\2. Projects\0. PairwiseRegistration\Data\';
info.dir = {'Tak\Empty-Zero\026-01-91-Corrected\';...
            'Tak\Empty-Zero\051-04-80-Corrected\';...
            'Tak\Empty-Zero\156-01-86-Corrected\';...
            'Tak\Empty-Zero\194-01-70-Corrected\';...
            'Tak\Empty-Zero\234-01-67-Corrected\';...
            'Tak\Empty-Zero\31-01-Corrected\';...
            'Tak\Empty-Zero\33-03-Corrected\';...
            'Tak\Empty-Zero\36-01-Corrected\';...
            'Tak\Empty-Zero\49-01-Corrected\';...
            'Tak\Empty-Zero\53-03-Corrected\';...
            'COLNOR69MW2-cycle-1\';...
            'Stem cell colony dataset\Level1\';...
            'Stem cell colony dataset\Level2\';...
            'Stem cell colony dataset\Level3\';...
            'Stem cell colony dataset\phase\';...
            'Stem cell colony dataset\small\';...
            'Stem cell colony dataset\small_phase\'};

info.imtype = {1;1;1;1;1;1;1;1;1;1;2;2;2;2;2;2;2};
info.nEnd = {100;100;100;100;100;100;100;100;100;100;609;100;100;552;100;25;25};
info.htile = {10;10;10;10;10;10;10;10;10;10;29;10;10;23;10;5;5};
info.vtile = {10;10;10;10;10;10;10;10;10;10;21;10;10;24;10;5;5};
info.dataset = {1;1;1;1;1;1;1;1;1;1;3;2;2;2;2;2;2};

for i = 1 : 10
    [rmse_north, rmse_west, average_rmse, time_north, time_west, average_time, Tx_north, Tx_west, Ty_north, Ty_west] = pairwise_registration_PhaseCorrelation_NCC(strcat(SrcDir,info.dir{i,:}),info.imtype{i},info.nEnd{i},info.htile{i},info.vtile{i},info.dataset{i});
    save(sprintf('E:/HastiShabani/2. Projects/0. PairwiseRegistration/Codes/Intensity_based/Run_3_Corrected/Phase correlation and NCC/Results_PhaseNCC/%d.mat',i),"rmse_north", "rmse_west", "average_rmse", "time_north", "time_west", "average_time", "Tx_north", "Tx_west", "Ty_north", "Ty_west");
end
